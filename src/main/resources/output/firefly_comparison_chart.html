<!DOCTYPE html><html lang='vi'><head><meta charset='UTF-8'><title>Báo cáo Thuật toán Firefly</title><script src='https://cdn.jsdelivr.net/npm/chart.js'></script><script src='https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-annotation/3.0.1/chartjs-plugin-annotation.min.js'></script><style>  body{font-family:'Segoe UI', sans-serif; background:#f4f4f9; padding:20px; display:flex; flex-direction:column; align-items:center;}  .container{display:flex; gap:20px; justify-content:center; flex-wrap:wrap; width: 100%;}  .box{background:white; padding:20px; width:45%; min-width:500px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.1);}  h1{color:#2c3e50; margin-bottom:10px;}  h2{text-align:center; font-size:1.3em; color:#555; margin-bottom:15px; border-bottom: 2px solid #eee; padding-bottom:10px;}</style></head><body><h1>So sánh Hiệu quả Tối ưu hóa (Bubble Chart)</h1><div class='container'>  <div class='box'><h2>Lúc Khởi tạo (Gen 0)</h2><canvas id='c1'></canvas></div>  <div class='box'><h2>Kết quả Cuối cùng (Gen Max)</h2><canvas id='c2'></canvas></div></div><script>  const rawData = {"initial":[{"cost":1195000.0,"time":13.919944444444441,"isValid":false},{"cost":1536000.0,"time":17.739055555555556,"isValid":false},{"cost":449000.0,"time":5.733888888888889,"isValid":true},{"cost":491000.0,"time":6.83661111111111,"isValid":true},{"cost":827000.0,"time":9.28027777777778,"isValid":false},{"cost":1259000.0,"time":14.00933333333333,"isValid":false},{"cost":714000.0,"time":7.993833333333333,"isValid":false},{"cost":1748000.0,"time":19.39088888888889,"isValid":false},{"cost":1010000.0,"time":14.757194444444442,"isValid":false},{"cost":1231000.0,"time":15.125805555555553,"isValid":false},{"cost":350000.0,"time":4.634888888888889,"isValid":true},{"cost":1451000.0,"time":18.136527777777776,"isValid":false},{"cost":222000.0,"time":3.488055555555556,"isValid":true},{"cost":558000.0,"time":7.29611111111111,"isValid":true},{"cost":920000.0,"time":10.409305555555555,"isValid":false}],"finals":[{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true},{"cost":152000.0,"time":1.8983611111111112,"isValid":true}],"budget":600000.0};  const budget = rawData.budget;  function groupData(data) {     const map = new Map();     data.forEach(p => {         const key = Math.floor(p.cost) + '_' + p.time.toFixed(4);         if (!map.has(key)) {             map.set(key, { x: p.cost, y: p.time, isValid: p.isValid, count: 0 });         }         map.get(key).count++;     });     return Array.from(map.values());  }  function process(list) {     const grouped = groupData(list);     return {       valid: grouped.filter(p => p.isValid),       invalid: grouped.filter(p => !p.isValid)     };  }  const p1 = process(rawData.initial);  const p2 = process(rawData.finals);  function draw(id, pData) {    new Chart(document.getElementById(id), {      type: 'scatter',      data: { datasets: [        {            label:'Hợp lệ', data:pData.valid,            backgroundColor:'rgba(46, 204, 113, 0.6)',            borderColor:'rgba(46, 204, 113, 1)', borderWidth: 1        },        {            label:'Vi phạm', data:pData.invalid,            backgroundColor:'rgba(231, 76, 60, 0.7)',            borderColor:'rgba(231, 76, 60, 1)', borderWidth: 2,           pointStyle:'cross'        }      ]},      options: {        elements: {           point: {              radius: function(context) {                 const val = context.raw;                 if (!val || !val.count) return 5;                 return 5 + (val.count - 1) * 2;              },              hoverRadius: function(context) {                 const val = context.raw;                 if (!val || !val.count) return 7;                 return 7 + (val.count - 1) * 2;              }           }        },        plugins: {            tooltip: { callbacks: { label: (ctx) => `SL: ${ctx.raw.count} | Cost: ${ctx.parsed.x.toLocaleString()} | Time: ${ctx.parsed.y.toFixed(2)}` } },           annotation: { annotations: { line1: { type:'line', xMin:budget, xMax:budget, borderColor:'rgb(255, 99, 132)', borderWidth:2, borderDash:[5,5], label: {display: true, content: 'Budget', position: 'start', backgroundColor: 'rgba(255, 99, 132, 0.8)'} } } }         },        scales: {            x: { title:{display:true, text:'Chi phí (VNĐ)'}, ticks: { callback: function(val) { return val.toLocaleString(); } } },            y: { title:{display:true, text:'Thời gian (Giờ)'} }         }      }    });  }  draw('c1', p1); draw('c2', p2);</script></body></html>